<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A Royal Valentine Journey</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Pinyon+Script&family=EB+Garamond:ital,wght@1,800&display=swap');

:root {
    --romantic-red: #ff385c;
}

body {
    margin: 0;
    height: 100vh;
    overflow: hidden;
    background: linear-gradient(135deg, #ffafbd 0%, #ffc3a0 100%);
    font-family: Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* Floating Hearts */
.pop-heart {
    position: absolute;
    color: rgba(255, 56, 92, 0.4);
    pointer-events: none;
    z-index: 1;
    animation: bubblePop 3s ease-in-out forwards;
}

@keyframes bubblePop {
    0% { transform: scale(0); opacity: 0; }
    50% { transform: scale(1.5); opacity: 0.8; }
    100% { transform: scale(2.2) translateY(-50px); opacity: 0; }
}

/* Pages */
.page {
    position: absolute;
    width: 100%;
    height: 100vh;
    display: none;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    z-index: 10;
}

.bold-heading {
    font-size: 3rem;
    font-weight: 900;
    color: var(--romantic-red);
}

/* Letter Page */
.royal-letter-page {
    background: #000;
    overflow: hidden;
    position: relative;
}

.photo-grid-container {
    position: absolute;
    top: 0;
    width: 100%;
    column-count: 5;
    column-gap: 10px;
    padding: 10px;
    opacity: 0.35;
    pointer-events: none;
    transform: translateY(-50%);
    animation: scrollVertical 25s linear infinite;
}

@keyframes scrollVertical {
    0% { transform: translateY(-50%); }
    100% { transform: translateY(0); }
}

.grid-img {
    width: 100%;
    margin-bottom: 10px;
    border-radius: 8px;
    break-inside: avoid;
}

.letter-content {
    z-index: 100;
    background: rgba(253, 245, 230, 0.95);
    padding: 40px;
    width: 80%;
    max-width: 550px;
    border: 8px double #5d4037;
    box-shadow: 0 0 50px rgba(0,0,0,0.5);
    position: relative;
    transform: translateY(100vh);
    transition: 1.5s cubic-bezier(0.19, 1, 0.22, 1);
}

.letter-content.active {
    transform: translateY(0);
}

#typewriter {
    font-family: 'Pinyon Script', cursive;
    font-size: 2rem;
    color: #2c1e1a;
    text-align: left;
    line-height: 1.5;
}

.wax-seal {
    width: 120px;
    position: absolute;
    bottom: -60px;
    left: 50%;
    transform: translateX(-50%) scale(5);
    opacity: 0;
    transition: 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.wax-seal img {
    width: 100%;
}

.wax-seal.drop {
    opacity: 1;
    transform: translateX(-50%) scale(1);
}

/* Buttons */
.action-btn {
    padding: 15px 45px;
    font-size: 1.8rem;
    font-weight: 900;
    border-radius: 50px;
    border: none;
    cursor: pointer;
    transition: 0.3s;
}

.action-btn:hover {
    transform: scale(1.05);
}

#yesBtn { background: #4CAF50; color: white; }
#noBtn { background: #f44336; color: white; }

.gif-box {
    width: 320px;
    height: 280px;
    border-radius: 20px;
    overflow: hidden;
    background: white;
    padding: 10px;
}
.gif-box img {
    width: 100%;
    height: 100%;
    object-fit: contain;
}
</style>
</head>

<body>

<div id="heart-field"></div>

<audio id="bgMusic" loop>
<source src="song.mp3" type="audio/mpeg">
</audio>

<!-- PAGE 1 -->
<div id="page1" class="page" style="display:flex;">
    <div class="gif-box">
        <img id="main-gif" src="bubu-dudu-rides.webp">
    </div>
    <h1 class="bold-heading">Will you be my Valentine?</h1>
    <div style="display:flex; gap:30px; margin-top:30px;">
        <button id="yesBtn" class="action-btn">‚ù§Ô∏è Yes ‚ù§Ô∏è</button>
        <button id="noBtn" class="action-btn">No</button>
    </div>
</div>

<!-- PAGE 3 -->
<div id="page3" class="page royal-letter-page">
    <div class="photo-grid-container" id="grid-container"></div>
    <div class="letter-content" id="letter">
        <div id="typewriter"></div>
        <div class="wax-seal" id="seal">
            <img src="my-stamp.png">
        </div>
    </div>
</div>

<script>
const sadGifs = [
"bubu-dudu-sseeyall.webp",
"bubu-dudu-sseeyall (1).webp",
"bubu-dudu-sseeyall (2).webp",
"Khoc.webp"
];

const myPhotos = [
"p1.png","p2.png","p3.png","p4.png","p5.png",
"p6.png","p7.png","p8.png","p9.png","p10.png",
"p11.png","p12.png","p13.png","p14.png","p15.png",
"p16.png","p17.png","p18.png","p19.png","p20.png"
];

let moveCount = 0;
let noClickCount = 0;
let yesPadding = 15;
let yesFontSize = 1.8;

const noBtn = document.getElementById('noBtn');
const yesBtn = document.getElementById('yesBtn');
const mainGif = document.getElementById('main-gif');

/* Floating Hearts */
setInterval(() => {
    const h = document.createElement('div');
    h.className = 'pop-heart';
    h.innerHTML = '‚ù§Ô∏è';
    h.style.left = Math.random()*95 + 'vw';
    h.style.top = Math.random()*95 + 'vh';
    h.style.fontSize = (Math.random()*30+20)+'px';
    document.getElementById('heart-field').appendChild(h);
    setTimeout(()=>h.remove(),3000);
},400);

/* No Button Movement */
noBtn.addEventListener('mouseover',()=>{
    if(moveCount<3){
        noBtn.style.position='fixed';
        noBtn.style.left=Math.random()*80+'vw';
        noBtn.style.top=Math.random()*80+'vh';
        moveCount++;
    }
});

noBtn.addEventListener('click',()=>{
    if(moveCount>=3){
        noClickCount++;
        mainGif.src = sadGifs[Math.min(noClickCount-1,sadGifs.length-1)];
        yesPadding+=10;
        yesFontSize+=0.2;
        yesBtn.style.padding=`${yesPadding}px ${yesPadding*2.5}px`;
        yesBtn.style.fontSize=`${yesFontSize}rem`;
        noBtn.innerText="Please ü•∫";
    }
});

/* YES CLICK ‚Üí DIRECT TO LETTER */
yesBtn.addEventListener('click',()=>{
    document.getElementById('bgMusic').play();
    document.getElementById('page1').style.display='none';
    document.getElementById('page3').style.display='flex';

    const grid=document.getElementById('grid-container');
    const shuffled=[...myPhotos].sort(()=>Math.random()-0.5);
    const doubled=[...shuffled,...shuffled];

    doubled.forEach(src=>{
        const img=document.createElement('img');
        img.src=src;
        img.className='grid-img';
        grid.appendChild(img);
    });

    setTimeout(()=>{
        document.getElementById('letter').classList.add('active');
        typeLetter(`My Dear Love,

You are my forever and always.
In a world full of temporary things,
you are my constant.

I love you beyond words,
beyond time,
beyond forever.
Thank you for being choosing me !!!

Yours Eternally ‚ù§Ô∏è`);
    },1000);
});

function typeLetter(text){
    let i=0;
    const target=document.getElementById('typewriter');
    target.innerHTML='';
    function typing(){
        if(i<text.length){
            target.innerHTML+= text[i]==='\n' ? '<br>' : text[i];
            i++;
            setTimeout(typing,50);
        }else{
            setTimeout(()=>document.getElementById('seal').classList.add('drop'),500);
        }
    }
    typing();
}
</script>

</body>
</html>
